## [2.2.1](https://github.com/landoftherair/lotr2/compare/v2.2.0...v2.2.1) (2022-03-18)


### Bug Fixes

* **client:** doors will no longer block fov on top/bottom ([7bfb462](https://github.com/landoftherair/lotr2/commit/7bfb4624a4b090198cebd45e24ce0e9a8e850a36))
* **combat:** damage reflect should not always reflect a static amount if less damage than can be reflected is done ([d19b6be](https://github.com/landoftherair/lotr2/commit/d19b6be4488df0138c6006fc6c839d098208e083))
* **core:** can now use items from pouch ([848bcde](https://github.com/landoftherair/lotr2/commit/848bcde3dc8aee1fb182aaa8ec4a0fd7c1c09b88))
* **core:** only green npcs get dialog parsers; no more talking to dogs ([bc2af3e](https://github.com/landoftherair/lotr2/commit/bc2af3e2232262f9df1d2a5064a7462d863d61c0))
* **core:** pads that require quest access with completion type of none still require the quest to exist in quest log, fixing a CH bypass ([0f06060](https://github.com/landoftherair/lotr2/commit/0f060605e2b3f0b6d046444e34cca2dbad9cfd17))
* **core:** prevent duplicate item creation via corpse searching ([6913494](https://github.com/landoftherair/lotr2/commit/69134946fc6605daa096a51e468b84cb2527242b))
* **core:** prevent logger from throwing errors when it randomly can't log ([ff56d14](https://github.com/landoftherair/lotr2/commit/ff56d140ec1ca5e23c98cb1d38cd84cc62b2b4fb))
* **core:** round damage in physical combat ([9657754](https://github.com/landoftherair/lotr2/commit/9657754714481c00b5a502c489d0016b80eca74a))
* **npc:** identifier npc now displays % and negative values correctly ([e6b4f48](https://github.com/landoftherair/lotr2/commit/e6b4f486a95fd475e4c7b5bec7a0f0c307132f5f))
* **npc:** improve npc-on-npc violence ([f50b953](https://github.com/landoftherair/lotr2/commit/f50b9530e5446b74224e04141bba3e2515af18f4))
* **npc:** tanner will now drop tanned items from corpse when they exist in the npcs search items pool ([93cf9f4](https://github.com/landoftherair/lotr2/commit/93cf9f4ddd3c6b7e6001fccbec2c0b93a4633f9b))
* **npc:** trainer will remove stances when resetting traits ([58d2b94](https://github.com/landoftherair/lotr2/commit/58d2b945dcffa4897f76f7e2131bfe2f35cb0656))
* **quest:** quest tiles will now check separately from other quest logic so they don't need to fight for quest completion for None quests ([f3d26be](https://github.com/landoftherair/lotr2/commit/f3d26be3d28f868eae91099accfe8b65039a0a78))
* **quest:** quests will not update when there is no quest object to update ([5597d49](https://github.com/landoftherair/lotr2/commit/5597d4979bfc7231ea1a19d7042ce94ff10aefed)), closes [#322](https://github.com/landoftherair/lotr2/issues/322)
* **solokar:** add level requirements ([9a50120](https://github.com/landoftherair/lotr2/commit/9a50120774376406cf42bbfc14f1b57188467466))
* **solokar:** anything that was given darkness should also cast DV ([8d8f52d](https://github.com/landoftherair/lotr2/commit/8d8f52d24a6261f63d78a45f63122a5815388b6a))
* **solokar:** boots, claws, gloves spawn with a tier ([fc87ebb](https://github.com/landoftherair/lotr2/commit/fc87ebb3b5f6763f2930378d2a60adc162ced7c6))
* **solokar:** items should never generate as a question mark anymore ([5e36913](https://github.com/landoftherair/lotr2/commit/5e369131f39f9526fd6b4f07a5b6a068189303ee))
* **solokar:** legenday creatures should have DV/TS automatically ([0e1da35](https://github.com/landoftherair/lotr2/commit/0e1da35cb9bb814ef25f809bed32a8036972a01b))
* **solokar:** reset solokar ground differently this time ([ba53b56](https://github.com/landoftherair/lotr2/commit/ba53b568d19869587f41174e02c2b0bb0137e12d))
* **solokar:** reset the ground when the map resets ([0fe9edb](https://github.com/landoftherair/lotr2/commit/0fe9edbefcc4fa8d4e66e1ac0fec410149cfc925))
* **solokar:** rng dungeon arrows have a base tier they generate at so they're not too OP ([25041da](https://github.com/landoftherair/lotr2/commit/25041daefb3b3188da5ed06f08f43b74621d60e2))
* **solokar:** rng should not pick rune scroll boxes, only rune scrolls ([38c1cef](https://github.com/landoftherair/lotr2/commit/38c1cef31d7fbc0de403f5c48f3cfc3c9acfc7c0))
* **spell:** cast holyfire on self should work ([3a7efd1](https://github.com/landoftherair/lotr2/commit/3a7efd1df34b2d1af0248e612b8af7e6a011bdb6))
* **spell:** energy wave can now be used in the dark/while blinded ([e07d20f](https://github.com/landoftherair/lotr2/commit/e07d20fe023bf0c26de660cf98190e6253a0fc1d))
* **spell:** holyaura will not absorb negative damage and go up ([6994e6a](https://github.com/landoftherair/lotr2/commit/6994e6adf7e46d0f29acd70cabc8ea55e7315631))
* **spell:** identify will correctly work with all solokar-esque items ([f45e4a0](https://github.com/landoftherair/lotr2/commit/f45e4a057b0ad2c55e9a2f605b79752bf33a00e0))
* **spell:** pandemic allowed plague to spread a bit too quickly ([97aae73](https://github.com/landoftherair/lotr2/commit/97aae73b760d2204415a46c90ff079d712ccb7d2))
* **spell:** plague spread should be enemies of caster, not allies of enemy ([67a426e](https://github.com/landoftherair/lotr2/commit/67a426e627066e8af43b85398689fa2d874a53c0))
* **spell:** plague will only spread to potential hostile targets, instead of anyone nearby ([ed56dec](https://github.com/landoftherair/lotr2/commit/ed56decdaa9bb710372109f1a065434444d0b2b7))
* **spell:** potency for spells must have an override before handing the calculation off to the spell manager ([385da6e](https://github.com/landoftherair/lotr2/commit/385da6eb29eba585174a325d2c816b90e85fc537))
* **spell:** prevent enemies from flipping too hard between parry/rage stance ([fc89ca9](https://github.com/landoftherair/lotr2/commit/fc89ca909a1cba5a367388c3f6419a9964bf0084))
* **spell:** spells that modify incoming damage will now round it properly ([aa868cc](https://github.com/landoftherair/lotr2/commit/aa868ccef2d449c9d2491ab4a5f207afeb06052b))
* **spell:** spells will now have a return value to indicate whether they've successfully cast or not ([221624f](https://github.com/landoftherair/lotr2/commit/221624f6f9d3f013721c28c03e5ab13d3de61a0d))
* **spell:** transmute will now transmute empty bottles ([d0289ca](https://github.com/landoftherair/lotr2/commit/d0289ca47bc757221c56ca0f51bacb8b3b1771c8))
* **trait:** asper/drain slash only work if you know asper/drain ([68b939f](https://github.com/landoftherair/lotr2/commit/68b939f306a02a74b35b5963abfd4c277ea14a85))
* **ui:** allow any discord id > 16 digits ([e73c532](https://github.com/landoftherair/lotr2/commit/e73c5320aefbd0571a754fa76401c58b1678ab67))
* **ui:** auto attack should work when you have agro or when they have agro (training dummies do not log agro) ([503fcd8](https://github.com/landoftherair/lotr2/commit/503fcd8488bc3e50572846925ff361f9078c4408))
* **ui:** backspace/delete work as expected in macro editor ([bfab7ce](https://github.com/landoftherair/lotr2/commit/bfab7ce8dbb6bdbbe39c04ac9b95531f9b033cdb))
* **ui:** better handling of AA for any creature, including those who are neutral to you at the start ([55d0820](https://github.com/landoftherair/lotr2/commit/55d08202b276f4ff0f47baf123adbd79eb93b1a0))
* **ui:** don't auto join game until all assets have loaded, but retry until they are ([ebe6841](https://github.com/landoftherair/lotr2/commit/ebe68411fc10bc835f1d3cb212bf048adc1ce135))
* **ui:** don't round the % for xp/axp, especially when it would show 100% when it isn't ([e32863a](https://github.com/landoftherair/lotr2/commit/e32863a2d92f503f5ee7f02999689dd8941b77c5))
* **ui:** hide 'attribute' effect names ([dc43c7f](https://github.com/landoftherair/lotr2/commit/dc43c7f686181b6f47150aa1b90a92e00d078086))
* **ui:** instead of removing door fov, only add fov for vertical doors ([0c3914f](https://github.com/landoftherair/lotr2/commit/0c3914f727ee592388f86599f0e42a6994cfc0ba))
* **ui:** natural resource nodes are always flagged for auto attack ([e816eb0](https://github.com/landoftherair/lotr2/commit/e816eb0507079de11ac67622c8b59ceb23258784))
* **ui:** session stats now filters out 0 values ([1ce37a2](https://github.com/landoftherair/lotr2/commit/1ce37a2bb06117f7e32f67366babe00b537ccab5))
* **ui:** truesight/eagleeye will properly reset on changing map so their effects persist properly ([36ef23a](https://github.com/landoftherair/lotr2/commit/36ef23a78233e57044e67d435e0c9d41fb9a1801))


### Features

* **core:** add 'wait' command to pause and do nothing ([a9e1b9e](https://github.com/landoftherair/lotr2/commit/a9e1b9e6031b8eff516cc1289014b273112b6f53))
* **core:** add logging for when people buy subs / silver ([413e8dc](https://github.com/landoftherair/lotr2/commit/413e8dc6bd76c9e11621b13fe96d8442e878e4a3))
* **core:** add more settings for npc scripts ([87d66d3](https://github.com/landoftherair/lotr2/commit/87d66d37114533f11fd59d023e23c9f1cab9668a))
* **core:** add new emotes: wave, greet, hail, laugh ([7247fc6](https://github.com/landoftherair/lotr2/commit/7247fc6eb7336dde0e90e440430100648df71e7a))
* **core:** add winston for logging / back up to papertrail, add docs on papertrail ([5098791](https://github.com/landoftherair/lotr2/commit/50987912439a339fe702427891bd7242244f5903))
* **core:** all settings abstracted for helpers etc ([f9fd6ec](https://github.com/landoftherair/lotr2/commit/f9fd6ec093be3999027c659496b45b6139a7e225))
* **core:** beasts will have a default dialog parser that grows or snarls ([6d7fec0](https://github.com/landoftherair/lotr2/commit/6d7fec09069755e5cdd4c5e031e0f89103888b77))
* **core:** config files are now customizable by using a config/ directory ([6bafef1](https://github.com/landoftherair/lotr2/commit/6bafef1d9891357e1ef770f280cc4a4a0e966e12))
* **core:** hostile-always creatures will have a different parser message if you greet them ([fc065d1](https://github.com/landoftherair/lotr2/commit/fc065d1c83bd5f4c2390209b87248a92bc23b93b))
* **core:** when killing or dying, the agro reference is cleared so npcs wont spam kill you ([2908a3c](https://github.com/landoftherair/lotr2/commit/2908a3cba8e6974e54872aca67d2e81700047d30))
* **npc:** appraiser npc will show item tiers ([9f73be3](https://github.com/landoftherair/lotr2/commit/9f73be307c651b48e6a2427bcb808125744b136a))
* **npc:** trainers will now charge 10k to reset traits if your level >= 30 ([83c03c6](https://github.com/landoftherair/lotr2/commit/83c03c6e97dff6835a9d05c77b89cfe308514fac))
* **solokar:** add item upgrader npc ([a95b56f](https://github.com/landoftherair/lotr2/commit/a95b56f5925964d970481273de3dae558f6a7a46))
* **solokar:** solokar/ori get a max skill / level ([a22b44f](https://github.com/landoftherair/lotr2/commit/a22b44f57e8d2030b22fc5a3d82fc9fb69e8660b))
* **spell:** conjure weapon is now more flexible ([c5033d3](https://github.com/landoftherair/lotr2/commit/c5033d3a4df7969b90a93ec03588b165e32ccd27))
* **trait:** add expansive knowledge, an improvement to identify ([c5f5f37](https://github.com/landoftherair/lotr2/commit/c5f5f37b52182103bd698323a1a05533a17fc7fd))
* **trait:** add magical strikes trait, allowing for a wand to go into the ammo slot to buff outgoing melee attacks ([5078646](https://github.com/landoftherair/lotr2/commit/507864695b849c9142bc7eb6b504d67b17048f58))
* **trait:** thieves now have a trait to boost stealth regen based on mp regen while hidden ([82a4f1d](https://github.com/landoftherair/lotr2/commit/82a4f1d4eaa1b26f64f36eddc1fac6f79fd4d61f))
* **ui:** add better dialog for showing errors on login screen ([89bc00c](https://github.com/landoftherair/lotr2/commit/89bc00c13130c8782ed6d2603f31a33a2e082a7c))



