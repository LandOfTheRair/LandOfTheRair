# [1.10.0](https://github.com/landoftherair/lotr2/compare/v1.9.1...v1.10.0) (2021-02-26)


### Bug Fixes

* **ai:** leash message should say "you hear" ([bd83358](https://github.com/landoftherair/lotr2/commit/bd8335821bd0a0c06ed272e44f6fb61d08ca7c01))
* **client:** fix items having traits that dont exist yet ([d8285b2](https://github.com/landoftherair/lotr2/commit/d8285b22723a0357d739390e7f99371bf81a33ad))
* **combat:** ranged weapons work correctly for their range ([1a20bb9](https://github.com/landoftherair/lotr2/commit/1a20bb933dcd82ebcd7ff446213eb9b9fcd2a8f5))
* **combat:** you can no longer have spells cast on you whilst dead, so you cant get poisoned while dead anymore ([3d2f5b4](https://github.com/landoftherair/lotr2/commit/3d2f5b4267c445f1c785ab8146167d28f30bae22))
* **core:** fix issue where sometimes people dont have a state ([5f6c8f4](https://github.com/landoftherair/lotr2/commit/5f6c8f4008092ad151695eacaf954edde1b7128c))
* **core:** websocket close error code was invalid when disconnecting a user logging in from multiple locations ([7b0ee64](https://github.com/landoftherair/lotr2/commit/7b0ee6426e78c6091833d5c077c2089182a8e32a))
* **debug:** debugging should only trigger for commands that need it ([85a49c6](https://github.com/landoftherair/lotr2/commit/85a49c6c93ce5888701d1aa5925d4f1fe1d3b4df))
* **door:** opening a door and not moving updates the player FOV ([e8d9b35](https://github.com/landoftherair/lotr2/commit/e8d9b352a80064dca1ae4406542dc8cf450aa7a1))
* **drops:** rejigger drop rates so luck bonus only applies to certain things instead of everything globally ([fd7f48a](https://github.com/landoftherair/lotr2/commit/fd7f48aca874d9524d72c6aa5f3e9005ad917142))
* **ground:** items on ground that were technically dupes were decrementing count twice, removing them erroneously when moving to equipment slots ([e3aa5aa](https://github.com/landoftherair/lotr2/commit/e3aa5aad8e7802e7ea6f6e2a21c782b596fff3e4))
* **player:** attacking while stealthed always gives additional thievery skill ([2a932d3](https://github.com/landoftherair/lotr2/commit/2a932d3fd53ba4c2bf611568598acef0677cd635))
* **player:** dropping a succor blob from sack or hands should properly dispose of it if needed ([5d3fc8c](https://github.com/landoftherair/lotr2/commit/5d3fc8cce66c866a97c0739573ced345a2ca85fe))
* **player:** players would not gain fractional amounts of skill, which they should be able to - fixes dagger/throwing ([51f502d](https://github.com/landoftherair/lotr2/commit/51f502dfbca95704aeed4ea5548a347d08eb33b3))
* **quest:** fix being able to turn in kill quests immediately upon receiving them ([37bc63c](https://github.com/landoftherair/lotr2/commit/37bc63c94a7360462f9581e339b6a978e27f1941))
* **quest:** fix ownership checks of quests ([f42dfdf](https://github.com/landoftherair/lotr2/commit/f42dfdfc48aa3dc1e30305109cff43cd66220849))
* **register:** register no longer lets you register as someone else who has already registered ([6887b25](https://github.com/landoftherair/lotr2/commit/6887b25cd9523ff360d87a767f3155664653c830)), closes [#61](https://github.com/landoftherair/lotr2/issues/61)
* **server:** crash when accessing a player state that doesnt exist ([8984907](https://github.com/landoftherair/lotr2/commit/898490762f656d77d0817e10eea3908aa6199d36))
* **spawner:** lair spawners sometimes got the wrong data and overrode each other ([f6e9cdd](https://github.com/landoftherair/lotr2/commit/f6e9cddefa939e3309f22236a8eb4ce455072bab))
* **spells:** logging in to a new character that knew spells no longer prompts you to learn them if they exist on a bar (such as rolling a mage or healer would) ([50a5677](https://github.com/landoftherair/lotr2/commit/50a56771a9f666e205d8789cbe1ef81ede40eb44))
* **steal:** NPCs should only be able to steal on your tile ([818f6bc](https://github.com/landoftherair/lotr2/commit/818f6bc4c1313502f19e05d8cce049d99a2b897e))
* **stealth:** thief stealth bar only drains when there are hostiles that can see your position ([3fd15c7](https://github.com/landoftherair/lotr2/commit/3fd15c7491041bed79556f9a5333bd2959090747))
* **succor:** refactor succor so it always generates the same ([adfb9bc](https://github.com/landoftherair/lotr2/commit/adfb9bc2f278b74f8a8461abfc7de3f808b687ae))
* **ui:** allow for un-activing of macro bar again ([6f647b9](https://github.com/landoftherair/lotr2/commit/6f647b948498ee7522015a94a96977d13a335a6a))
* **ui:** book now shows current/total pages ([a03baf4](https://github.com/landoftherair/lotr2/commit/a03baf4746bac71e68a383e7421252bbeedc8609))
* **ui:** can move equipment window around again ([ca8d357](https://github.com/landoftherair/lotr2/commit/ca8d3574bcf2e0ffea68d3c86bf82b9390e1d30f))
* **ui:** default selected tab for quests; fix windows showing content while not visible ([6249b30](https://github.com/landoftherair/lotr2/commit/6249b300ab58b8f10ab812ff462c33ef34b3a7d2))
* **ui:** display default 'you have no x quests' for empty quest screen ([efa7e27](https://github.com/landoftherair/lotr2/commit/efa7e27c919be8e23981e79bc127cf4c13a743f5))
* **ui:** dont show 'welcome to' message when changing maps, only when entering ([3f237c2](https://github.com/landoftherair/lotr2/commit/3f237c262bdd3b77c40890cfc2a038a89642f724))
* **ui:** fix macro bar adding popup closing a lot ([3e45332](https://github.com/landoftherair/lotr2/commit/3e4533259ba24aa236794ec2d9275d8bb36022e9))
* **ui:** lobby messages should always start in the same spot after the timestamp ([141d464](https://github.com/landoftherair/lotr2/commit/141d46424c6bc312b266449d898671a5d4e02b25))
* **ui:** lobby messages should break-word, not break-all ([586e8ff](https://github.com/landoftherair/lotr2/commit/586e8ffcbdd96993b6f5771302cd7cc4d906b84a))
* **ui:** macro bars should by default be 64px tall even if there's nothing to display ([ec90804](https://github.com/landoftherair/lotr2/commit/ec908045b2a4fb59841fc9588ed43396767a9745))
* **ui:** moving map around while in game would cause clicks to be off for movement ([ca3ab24](https://github.com/landoftherair/lotr2/commit/ca3ab24c8b6c73aa26529e3e8ae3f42e87ba9682))
* **ui:** npc window is default 3 wide, spacing for scrollbar ([c75d880](https://github.com/landoftherair/lotr2/commit/c75d880db02a3ddc18d87fad17c43f125d8cd1b4))
* **ui:** show multiple macro bars at once again ([873c126](https://github.com/landoftherair/lotr2/commit/873c12641a0c1f019e5626657e415a4a35d013f7))
* **ui:** swallow other potential 'sys' of undefined error ([f0c3c7c](https://github.com/landoftherair/lotr2/commit/f0c3c7c6ac2289c39f51503f00791fa6e9c6160a))


### Features

* **combat:** add combat-stun ([f090a07](https://github.com/landoftherair/lotr2/commit/f090a078c45e18f2ca234b44822f942db89ce941))
* **gm:** add command to simulate gameloop crash; add crash recovery mechanism ([e224cd0](https://github.com/landoftherair/lotr2/commit/e224cd01ebfacfbfb9836516e0f872c448ccdd40))
* **gm:** add gm dupe command ([cfad864](https://github.com/landoftherair/lotr2/commit/cfad864308adee9bbdc2e9602f89095ebb4d433d))
* **item:** add new item upgrade system. items have a number of slots that can be upgraded, and upgrade materials can technically be anything. quest givers to come soon ([9b1922e](https://github.com/landoftherair/lotr2/commit/9b1922e2f139a1c085f53e3a36a5f671ed3fc82a))
* **item:** display upgrade slot text on item desc ([938f740](https://github.com/landoftherair/lotr2/commit/938f740fea5bd4635619da2371997a04697174db))
* **item:** items can now be upgraded via scripts, npcs like roma ([38f46db](https://github.com/landoftherair/lotr2/commit/38f46db98583c66700e18b2dc08b129c46718ca1))
* **item:** visually display upgrades on items ([0d1f74f](https://github.com/landoftherair/lotr2/commit/0d1f74ff0653518fafa5ed5ba52a5d5f966fa0a6))
* **map:** maps now store the Z level of each area in them for reference in game; no more hacky calculations needed ([210937f](https://github.com/landoftherair/lotr2/commit/210937feb26158537dc8a55ccbc788c22ca5f595))
* **npc:** npcs can strip and eat ([6a963fe](https://github.com/landoftherair/lotr2/commit/6a963fe1e9106d3a90ba0cb613f7f871a367b7eb))
* **quest:** quests can now take items from sack ([c2eec68](https://github.com/landoftherair/lotr2/commit/c2eec68b67d4bf6b67c74fbc1e24ba57763e0fa6))
* **spell:** add poison ([24b61fa](https://github.com/landoftherair/lotr2/commit/24b61faf921f2dc85efac30cc6e40c0e5b00761e))
* **spell:** add poison shell - doesnt work but will stop emailing me ([51b4950](https://github.com/landoftherair/lotr2/commit/51b495033a0fe50dbfe26f9db7d140e3954661cb))
* **spell:** add stun spell, debuff ([3759899](https://github.com/landoftherair/lotr2/commit/3759899d74f923fdf30ee4979513647c8f2b0fe5))
* **spell:** formattable tooltips for spells like poison ([0fe5999](https://github.com/landoftherair/lotr2/commit/0fe5999a4b91244cac60bcfcf7277bad96e2d282))
* **spells:** add recently effects with a nice tie-in to data format ([b159f2f](https://github.com/landoftherair/lotr2/commit/b159f2f995fed81eb49897e81dbcd45d2e48d0af))
* **ui:** display quest progress as a bar and number ([61d31af](https://github.com/landoftherair/lotr2/commit/61d31afc32326b5d7b1a30c7a3fc50646d8f501b))
* **ui:** show # of gold coins you own on tooltip, even when number is compressed ([8db98d8](https://github.com/landoftherair/lotr2/commit/8db98d865b7d1bbf94064cdfa9489cc8cb48bcf5))



